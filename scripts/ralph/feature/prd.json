{
  "project": "obojobs",
  "branchName": "ralph/analytics-dashboard",
  "description": "Analytics Dashboard - Erfolgsquoten, Timeline, Company Insights und Export",
  "userStories": [
    {
      "id": "ANALYTICS-001",
      "title": "Extended Stats API",
      "description": "Erweiterte Statistik-Endpoints",
      "acceptanceCriteria": [
        "GET /api/stats/extended - Detaillierte Statistiken",
        "Erfolgsquote: Bewerbungen → Antworten → Interviews → Zusagen (Prozent)",
        "Durchschnittliche Antwortzeit pro Status-Übergang",
        "Bewerbungen pro Woche/Monat (letzte 12 Wochen/Monate)",
        "Top 5 Firmen nach Bewerbungsanzahl",
        "Response enthält alle Metriken in strukturiertem Format",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 1,
      "passes": false,
      "notes": "SQLAlchemy Aggregationen für Performance"
    },
    {
      "id": "ANALYTICS-002",
      "title": "Timeline View",
      "description": "Chronologische Bewerbungs-Timeline",
      "acceptanceCriteria": [
        "GET /api/applications/timeline - Alle Bewerbungen mit Status-History",
        "Application Model: Neues Feld status_history (JSON Array)",
        "Format: [{ status: 'erstellt', timestamp: '...' }, { status: 'versendet', timestamp: '...' }]",
        "Frontend: Timeline-Komponente zeigt Verlauf visuell",
        "Filterbar nach Zeitraum (letzte 7/30/90 Tage, alle)",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 2,
      "passes": false,
      "notes": "Status-History bei jedem Status-Update ergänzen"
    },
    {
      "id": "ANALYTICS-003",
      "title": "Company Insights",
      "description": "Statistiken pro Firma",
      "acceptanceCriteria": [
        "GET /api/stats/companies - Statistiken gruppiert nach Firma",
        "Pro Firma: Anzahl Bewerbungen, Antwortrate, durchschnittliche Antwortzeit",
        "Sortierbar nach: Bewerbungen, Antwortrate, Name",
        "Frontend: Tabelle mit Company Insights",
        "Klick auf Firma filtert Bewerbungsliste",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 3,
      "passes": false,
      "notes": "GROUP BY firma in SQL Query"
    },
    {
      "id": "ANALYTICS-004",
      "title": "Export Funktionalität",
      "description": "Bewerbungsdaten als CSV/PDF exportieren",
      "acceptanceCriteria": [
        "GET /api/applications/export?format=csv - CSV Export",
        "GET /api/applications/export?format=pdf - PDF Export",
        "CSV enthält: Firma, Position, Status, Datum, Ansprechpartner, Email",
        "PDF: Formatierte Tabelle mit obojobs Branding",
        "Frontend: Export-Buttons in ApplicationsView",
        "Dateiname: bewerbungen_YYYY-MM-DD.csv/pdf",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 4,
      "passes": false,
      "notes": "ReportLab für PDF oder bestehende PDF-Logik nutzen"
    }
  ]
}
