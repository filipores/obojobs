{
  "report_type": "ralph_test_report",
  "generated_at": "2026-01-14T16:31:11Z",
  "summary": {
    "total_features": 36,
    "tested_features": 30,
    "coverage_percent": 83
  },
  "bugs": {
    "total": 6,
    "by_severity": {
      "critical": 0,
      "major": 1,
      "minor": 5,
      "trivial": 0
    },
    "items": [
      {
        "id": "BUG-001",
        "severity": "major",
        "title": "Details-Link führt nicht zur spezifischen Bewerbung",
        "steps_to_reproduce": [
          "Timeline-Seite öffnen (/timeline)",
          "Auf 'Details' Button bei einer Bewerbung klicken"
        ],
        "expected": "Link führt zur spezifischen Bewerbungsdetail-Seite (/applications/{id})",
        "actual": "Link führt zur allgemeinen Bewerbungsübersicht (/applications)",
        "affected_component": "frontend/src/pages/Timeline.vue:100"
      },
      {
        "id": "BUG-001",
        "severity": "minor",
        "title": "Backend-Fehlermeldungen teilweise auf Englisch",
        "steps_to_reproduce": [
          "Zur Registrierungsseite navigieren",
          "Formular mit bereits existierender E-Mail ausfüllen",
          "Gültiges Passwort eingeben",
          "Auf 'Kostenlos registrieren' klicken"
        ],
        "expected": "Fehlermeldung auf Deutsch: 'Benutzer mit dieser E-Mail existiert bereits'",
        "actual": "Fehlermeldung auf Englisch: 'User with this email already exists'",
        "affected_component": "backend/services/auth_service.py:40"
      },
      {
        "id": "BUG-001",
        "severity": "minor",
        "title": "Fehlermeldungen werden nicht lokalisiert (Englisch statt Deutsch)",
        "steps_to_reproduce": [
          "Navigiere zu /verify-email?token=invalid-test-token",
          "Warte auf API-Antwort",
          "Beobachte die Fehlermeldung"
        ],
        "expected": "Deutsche Fehlermeldung wie 'Der Verifizierungs-Link ist ungültig. Bitte fordern Sie einen neuen Link an.'",
        "actual": "Englische Fehlermeldung 'Invalid verification token' wird angezeigt",
        "affected_component": "frontend/src/pages/VerifyEmail.vue:175-184"
      },
      {
        "id": "BUG-001",
        "severity": "minor",
        "title": "Englischer Toast bei ungültigem Reset-Token zusätzlich zur deutschen Fehlerkarte",
        "steps_to_reproduce": [
          "Navigiere zu /reset-password?token=invalid-token",
          "Gib ein gültiges Passwort ein (z.B. Test1234)",
          "Gib das gleiche Passwort zur Bestätigung ein",
          "Klicke auf 'Passwort ändern'"
        ],
        "expected": "Nur die deutsche Fehlerkarte 'Ungültiger Link' mit der Meldung 'Der Reset-Link ist abgelaufen/ungültig' wird angezeigt",
        "actual": "Zusätzlich zur deutschen Fehlerkarte erscheint ein Toast mit englischem Text 'Invalid or expired reset token'",
        "affected_component": "ResetPassword.vue"
      },
      {
        "id": "BUG-001",
        "severity": "minor",
        "title": "Englische technische Fehlermeldungen werden Endnutzern angezeigt",
        "steps_to_reproduce": [
          "Zur Einstellungsseite navigieren (/settings)",
          "Auf 'Mit Gmail verbinden' oder 'Mit Outlook verbinden' klicken",
          "Beobachte die Toast-Benachrichtigung"
        ],
        "expected": "Deutsche, benutzerfreundliche Fehlermeldung wie 'E-Mail-Verbindung ist derzeit nicht konfiguriert. Bitte kontaktieren Sie den Administrator.'",
        "actual": "Zwei Toasts erscheinen: 1) Technische englische Meldung 'GOOGLE_CLIENT_ID and GOOGLE_CLIENT_SECRET must be set' 2) Deutsche Meldung 'Fehler beim Verbinden mit Gmail'",
        "affected_component": "backend/services/gmail_service.py:32-34, backend/services/outlook_service.py, backend/routes/email.py:98-102, frontend/src/api/client.js:34-39"
      },
      {
        "id": "BUG-001",
        "severity": "minor",
        "title": "Coverage dependency not installed",
        "steps_to_reproduce": [
          "Navigate to frontend directory",
          "Run: npx vitest run --coverage"
        ],
        "expected": "Coverage report should be generated as configured in vitest.config.js",
        "actual": "Error: MISSING DEPENDENCY - Cannot find dependency '@vitest/coverage-v8'",
        "affected_component": "frontend/package.json"
      }
    ]
  },
  "suggestions": {
    "total": 49,
    "by_type": {
      "ux": 26,
      "performance": 0,
      "accessibility": 10,
      "feature": 11
    },
    "items": [
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Details-Link auf spezifische Bewerbung verlinken",
        "priority": "high"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Klickbare Timeline-Karten für schnelleren Zugriff",
        "priority": "medium"
      },
      {
        "id": "SUG-003",
        "type": "ux",
        "title": "Visuelle Unterscheidung der verschiedenen Status in der Timeline (Farbkodierung der Timeline-Linie)",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Kein Navigationslink zu Company Insights",
        "description": "Die Company Insights Seite ist nur über direkte URL erreichbar (/company-insights). Es fehlt ein Link in der Hauptnavigation oder auf der Bewerbungen-Seite.",
        "priority": "high"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Mobile Tabellen-Darstellung verbessern",
        "description": "Auf Mobile (375px) wird die Tabelle abgeschnitten. Der 'Bewerbungen'-Button ist nicht sichtbar. Ein horizontaler Scroll-Indikator oder eine Card-basierte Mobile-Ansicht wäre benutzerfreundlicher.",
        "priority": "medium"
      },
      {
        "id": "SUG-003",
        "type": "accessibility",
        "title": "Leerer Spaltenheader in Tabelle",
        "description": "Die letzte Spalte (mit dem Bewerbungen-Button) hat keinen sichtbaren Header-Text. Ein aria-label oder visueller Header wie 'Aktionen' würde die Barrierefreiheit verbessern.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "feature",
        "title": "Export gefilterte Daten - Der Export exportiert immer ALLE Bewerbungen, nicht die aktuell gefilterten. Könnte für Nutzer mit vielen Bewerbungen nützlich sein, nur die gefilterte Auswahl zu exportieren.",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Export-Feedback - Nach erfolgreichem Export könnte ein Toast/Snackbar angezeigt werden statt nur dem Browser-Download-Dialog.",
        "priority": "low"
      },
      {
        "id": "SUG-003",
        "type": "feature",
        "title": "Export-Format Auswahl - Excel (XLSX) Format als dritte Option könnte für Business-Nutzer nützlich sein.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Aktiver Tab-Status visuell deutlicher machen",
        "description": "Der aktive Tab (URL/Text) könnte visuell stärker hervorgehoben werden für bessere Orientierung",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "accessibility",
        "title": "Navigation Links auf Mobile haben keinen sichtbaren Text",
        "description": "Auf Mobile sind die Navigations-Links (Dashboard, Dokumente, etc.) im Accessibility-Tree ohne Text. Das ist kein Bug da sie ausgeblendet sind, aber ein Screen-Reader könnte sie finden.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Visuelles Feedback beim Klick auf History-Eintrag",
        "description": "Ein kurzer Hover-Effekt oder aktiver Zustand für den geklickten History-Eintrag würde die Interaktion klarer machen",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Möglichkeit zum Löschen einzelner History-Einträge",
        "description": "Benutzer könnten die Möglichkeit wünschen, alte oder irrelevante Analysen aus der History zu entfernen",
        "priority": "medium"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Passwort-Sichtbarkeits-Toggle hinzufügen",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Visuelle Stärke-Indikator (Fortschrittsbalken) für Passwort hinzufügen",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Backend-Fehlermeldungen sollten auf Deutsch zurückgegeben werden, oder Frontend sollte alle Backend-Codes abfangen",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "accessibility",
        "title": "Loading-Spinner sollte aria-label haben für Screenreader",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Toast-Benachrichtigung bei Token-Fehler unterdrücken",
        "priority": "medium",
        "description": "Da bereits eine Fehlerkarte angezeigt wird, sollte der zusätzliche Toast entfernt werden um doppelte Fehlermeldungen zu vermeiden"
      },
      {
        "id": "SUG-002",
        "type": "accessibility",
        "title": "Username-Feld für Accessibility hinzufügen",
        "priority": "low",
        "description": "Browser-Warnung: 'Password forms should have (optionally hidden) username fields for accessibility'. Ein verstecktes Username-Feld würde die Accessibility verbessern"
      },
      {
        "id": "SUG-001",
        "type": "accessibility",
        "title": "Fehlende autocomplete-Attribute auf Passwort-Feldern",
        "description": "Die Passwort-Eingabefelder haben keine autocomplete-Attribute. Empfohlen: autocomplete='current-password' für aktuelles Passwort und autocomplete='new-password' für neue Passwort-Felder.",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Fehlermeldung bleibt nach neuer Eingabe bestehen",
        "description": "Wenn ein Fehler auftritt (z.B. 'Aktuelles Passwort ist falsch'), bleibt die Fehlermeldung auch nach neuer Eingabe in die Felder sichtbar. Die Meldung sollte verschwinden, sobald der User neue Eingaben macht.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Logout-Bestätigung hinzufügen",
        "description": "Optional: Toast/Snackbar-Nachricht nach erfolgreichem Logout anzeigen ('Sie wurden erfolgreich abgemeldet')",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Logout-all-devices Funktion",
        "description": "Möglichkeit alle Sessions auf allen Geräten zu beenden (alle Tokens des Users blacklisten)",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Backend-Fehlermeldungen sollten lokalisiert werden",
        "description": "Die ValueError-Meldungen in gmail_service.py und outlook_service.py sollten auf Deutsch sein oder das Frontend sollte bekannte Backend-Fehler abfangen und übersetzen. Aktuell zeigt der API-Client alle 400er-Fehlermeldungen direkt an.",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Doppelte Toast-Benachrichtigungen vermeiden",
        "description": "Bei OAuth-Fehlern werden zwei Toasts angezeigt: einer vom API-Client interceptor (mit Backend-Fehlermeldung) und einer vom catch-Block in connectGmail/connectOutlook. Nur eine Meldung sollte angezeigt werden.",
        "priority": "medium"
      },
      {
        "id": "SUG-003",
        "type": "ux",
        "title": "Provider-Buttons deaktivieren wenn nicht konfiguriert",
        "description": "Wenn OAuth nicht konfiguriert ist, könnten die Buttons deaktiviert und ein Hinweis angezeigt werden (z.B. 'E-Mail-Verbindung wird in Kürze verfügbar sein').",
        "priority": "low"
      },
      {
        "id": "SUG-004",
        "type": "accessibility",
        "title": "Fehlende autocomplete-Attribute für Passwort-Felder im E-Mail-Bereich",
        "description": "Browser-Konsolenwarnung zeigt fehlende autocomplete-Attribute auf Passwort-Feldern an.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Pre-fill To field when application has email address stored",
        "priority": "medium",
        "description": "The 'An' (To) field was empty even though the application might have an email address. Consider pre-filling from app.email if available."
      },
      {
        "id": "SUG-002",
        "type": "accessibility",
        "title": "Add aria-label to close buttons for better screen reader support",
        "priority": "low",
        "description": "The modal close buttons (X icons) could benefit from explicit aria-labels like 'Schließen' for accessibility."
      },
      {
        "id": "SUG-003",
        "type": "ux",
        "title": "Show character count for email body",
        "priority": "low",
        "description": "Consider adding a character counter for the message textarea to help users gauge email length."
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Attachment-Dateinamen in der Vorschau werden auf Mobile abgeschnitten",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Option zum Hinzufügen/Entfernen einzelner Attachments im Email-Composer",
        "priority": "medium"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Consider showing sent status indicator on application card",
        "description": "Application cards only show status badge (Erstellt/Versendet), but don't visually indicate if email was actually sent via the system (sent_at set). Consider adding a small 'sent' icon on cards where sent_at is not null to differentiate manual status changes from actual email sends.",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Pre-fill recipient email from application.email field",
        "description": "The email composer 'An' (To) field starts empty even when the application has an email stored. The code at line 779 does set 'to: app.email || \"\"' but the test application had no email. Consider making this field required during application creation or showing a clearer prompt.",
        "priority": "medium"
      },
      {
        "id": "SUG-001",
        "type": "feature",
        "title": "Add test:coverage npm script",
        "priority": "medium",
        "description": "Add 'test:coverage': 'vitest run --coverage' script to package.json for easy coverage generation"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Install @vitest/coverage-v8 dependency",
        "priority": "high",
        "description": "Add '@vitest/coverage-v8' to devDependencies to enable the v8 coverage provider configured in vitest.config.js"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Toast max-width auf Mobile anpassen",
        "description": "Die Toast-Komponente hat max-width: 400px, aber Mobile-Viewports sind nur 375px breit. Ein responsive max-width (z.B. calc(100vw - 2rem)) wäre besser.",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "Test für Deduplizierung hinzufügen",
        "description": "Die Toast-Komponente hat eine Deduplizierungs-Logik (DEDUPE_WINDOW_MS), aber dafür gibt es keinen Unit-Test.",
        "priority": "medium"
      },
      {
        "id": "SUG-003",
        "type": "accessibility",
        "title": "ARIA-Attribute für Toasts",
        "description": "Toasts sollten role='alert' oder aria-live='polite' haben, damit Screenreader sie ankündigen.",
        "priority": "medium"
      },
      {
        "id": "SUG-001",
        "type": "feature",
        "title": "Console.log Statements sollten vor Production entfernt werden",
        "description": "ESLint findet 40 console.log Warnings im Code. Für Production-Build sollten diese entfernt oder durch einen Logger ersetzt werden.",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "feature",
        "title": "ESLint in CI/CD Pipeline integrieren",
        "description": "npm run lint sollte in die CI/CD Pipeline integriert werden um Code-Qualität automatisch zu prüfen.",
        "priority": "medium"
      },
      {
        "id": "SUG-001",
        "type": "code-quality",
        "title": "Vue Warnings für undefinierte Template-Platzhalter beheben",
        "description": "Beim Öffnen des Template-Editors erscheinen Vue Warnings: 'Property FIRMA/POSITION/ANSPRECHPARTNER was accessed during render but is not defined'. Die Platzhalter-Variablen sollten mit Default-Werten initialisiert werden.",
        "priority": "low"
      },
      {
        "id": "SUG-002",
        "type": "code-quality",
        "title": "Console.log Statements entfernen",
        "description": "ESLint zeigt 40 Warnings für 'no-console'. Diese sollten entweder entfernt oder durch einen Logger ersetzt werden.",
        "priority": "low"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Inkonsistente Encoding in Requirements-Error Box",
        "description": "Der Text 'Anforderungsanalyse nicht moeglich' verwendet ASCII-Encoding (oe statt ö), während die Zeile darunter 'nicht möglich' korrekt mit Umlaut geschrieben ist. Sollte konsistent sein.",
        "priority": "low",
        "affected_component": "NewApplication.vue:338-339"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Error-Box bleibt nach erfolgreicher manueller Analyse sichtbar",
        "description": "Nach dem erfolgreichen Analysieren des manuellen Textes bleibt die ursprüngliche Fehlermeldung (URL konnte nicht geladen werden) im Preview sichtbar. Diese sollte ausgeblendet werden, wenn die manuelle Analyse erfolgreich war.",
        "priority": "medium",
        "affected_component": "NewApplication.vue"
      },
      {
        "id": "SUG-003",
        "type": "accessibility",
        "title": "Portal-Badge im Mobile View nicht mehr inline",
        "description": "Im mobilen View springt das Portal-Badge unter das Input-Feld, was gewolltes responsive Verhalten ist. Der visuelle Kontext zur URL geht aber etwas verloren - könnte durch einen kleinen Pfeil oder Label 'Erkannt:' klarer gemacht werden.",
        "priority": "low",
        "affected_component": "NewApplication.vue:1752-1756"
      },
      {
        "id": "SUG-001",
        "type": "ux",
        "title": "Automatische Extraktion von Kontaktdaten aus manuellem Text",
        "description": "Der manuell eingegebene Text enthielt Ansprechpartner (Frau Maria Schmidt) und Email (jobs@techstart.de), diese wurden aber nicht automatisch in die entsprechenden Felder extrahiert. Der User musste sie manuell eintragen.",
        "priority": "medium"
      },
      {
        "id": "SUG-002",
        "type": "ux",
        "title": "Standort-Extraktion aus Text",
        "description": "Der Standort 'München' war im Text enthalten, wurde aber nicht automatisch erkannt. Eine NLP-basierte Extraktion würde die UX verbessern.",
        "priority": "low"
      },
      {
        "id": "SUG-003",
        "type": "accessibility",
        "title": "Portal-Badge auf Mobile nicht optimal positioniert",
        "description": "Auf Mobile wird das Portal-Badge unterhalb des URL-Inputs angezeigt statt inline - das ist korrekt responsive, könnte aber visuell noch besser integriert werden.",
        "priority": "low"
      }
    ]
  },
  "for_debug_ralph": {
    "bugs_to_fix": [
      {
        "id": "BUG-001",
        "title": "Details-Link führt nicht zur spezifischen Bewerbung",
        "severity": "major",
        "component": "frontend/src/pages/Timeline.vue:100",
        "steps": [
          "Timeline-Seite öffnen (/timeline)",
          "Auf 'Details' Button bei einer Bewerbung klicken"
        ]
      }
    ]
  },
  "for_feature_ralph": {
    "features_to_add": [
      {
        "id": "SUG-001",
        "title": "Details-Link auf spezifische Bewerbung verlinken",
        "type": "ux",
        "description": null
      },
      {
        "id": "SUG-001",
        "title": "Kein Navigationslink zu Company Insights",
        "type": "ux",
        "description": "Die Company Insights Seite ist nur über direkte URL erreichbar (/company-insights). Es fehlt ein Link in der Hauptnavigation oder auf der Bewerbungen-Seite."
      },
      {
        "id": "SUG-002",
        "title": "Install @vitest/coverage-v8 dependency",
        "type": "feature",
        "description": "Add '@vitest/coverage-v8' to devDependencies to enable the v8 coverage provider configured in vitest.config.js"
      }
    ]
  }
}
