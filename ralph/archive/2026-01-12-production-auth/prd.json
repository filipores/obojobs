{
  "project": "obojobs",
  "branchName": "ralph/ats-optimization",
  "description": "ATS-Scoring System - Analysiert CV gegen Job-Description, gibt Score und Verbesserungsvorschläge",
  "userStories": [
    {
      "id": "ATS-001",
      "title": "ATS Service Grundstruktur",
      "description": "Backend Service für ATS-Analyse mit Claude API",
      "acceptanceCriteria": [
        "Neuer Service: backend/services/ats_service.py",
        "Funktion analyze_cv_against_job(cv_text, job_description) → dict",
        "Claude Prompt extrahiert: relevante Keywords, Skills, Erfahrungen",
        "Response Format: { score: 0-100, matched_keywords: [], missing_keywords: [], suggestions: [] }",
        "Fehlerbehandlung für API-Fehler und leere Inputs",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 1,
      "passes": false,
      "notes": "Claude 3.5 Haiku für Kosten-Effizienz, strukturierter Output"
    },
    {
      "id": "ATS-002",
      "title": "ATS API Endpoint",
      "description": "REST Endpoint für ATS-Analyse",
      "acceptanceCriteria": [
        "POST /api/ats/analyze - Analysiert CV gegen Job-URL oder Text",
        "Akzeptiert: job_url ODER job_text (mindestens eins)",
        "Nutzt vorhandenen Lebenslauf des Users (Document mit type=lebenslauf)",
        "Gibt 400 zurück wenn kein Lebenslauf hochgeladen",
        "Web Scraping für job_url (bestehende Funktion nutzen)",
        "Response: { success: true, data: { score, matched, missing, suggestions } }",
        "Rate Limiting: Max 20 Analysen pro Stunde",
        "Tests für alle Szenarien",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 2,
      "passes": false,
      "notes": "Route in backend/routes/ats.py, Blueprint registrieren in app.py"
    },
    {
      "id": "ATS-003",
      "title": "Keyword-Kategorisierung",
      "description": "Keywords in Kategorien einteilen für bessere UX",
      "acceptanceCriteria": [
        "Keywords kategorisiert: hard_skills, soft_skills, qualifications, experience",
        "Gewichtung: hard_skills zählen mehr für Score als soft_skills",
        "Score-Berechnung: Gewichteter Match-Prozentsatz",
        "Jeder Suggestion hat priority: high/medium/low",
        "Response enthält: categories: { hard_skills: { matched: [], missing: [] }, ... }",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 3,
      "passes": false,
      "notes": "Prompt Engineering für konsistente Kategorisierung"
    },
    {
      "id": "ATS-004",
      "title": "ATS Dashboard View",
      "description": "Frontend Seite für ATS-Analyse",
      "acceptanceCriteria": [
        "Neue Route: /ats → ATSView.vue",
        "Input: Job-URL oder Job-Text einfügen",
        "Button: 'Analysieren' startet Analyse",
        "Loading State während API-Call",
        "Fehlerhandling: Kein CV, Rate Limit, API Error",
        "Navigation in Sidebar hinzufügen",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 4,
      "passes": false,
      "notes": "Zen-Design System verwenden, keine externen Libraries"
    },
    {
      "id": "ATS-005",
      "title": "Score Visualisierung",
      "description": "Ansprechende Darstellung der ATS-Ergebnisse",
      "acceptanceCriteria": [
        "Score als großer Kreis/Ring mit Prozent (0-100)",
        "Farbkodierung: <50 rot, 50-75 gelb, >75 grün",
        "Keyword-Listen: Matched (grün ✓) vs Missing (rot ✗)",
        "Kategorien als Tabs oder Akkordeons",
        "Suggestions als priorisierte Liste mit Icons",
        "Responsive Design für Mobile",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 5,
      "passes": false,
      "notes": "CSS-only Visualisierung, keine Chart-Libraries"
    },
    {
      "id": "ATS-006",
      "title": "ATS History & Caching",
      "description": "Analyseergebnisse speichern und wiederverwenden",
      "acceptanceCriteria": [
        "Neues Model: ATSAnalysis (user_id, job_url, job_text_hash, score, result_json, created_at)",
        "Caching: Gleiche Job-URL innerhalb 24h gibt cached Result",
        "GET /api/ats/history - Liste der letzten 20 Analysen",
        "Dashboard zeigt History-Liste unter dem Analyse-Formular",
        "Klick auf History-Item lädt Ergebnis",
        "Alle Tests grün (pytest, npm test)",
        "Linting OK (ruff, eslint)"
      ],
      "priority": 6,
      "passes": false,
      "notes": "Hash für job_text um Duplikate zu erkennen"
    }
  ]
}
